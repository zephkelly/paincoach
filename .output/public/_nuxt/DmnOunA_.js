import{u as B,a as Z,M as F,g as W,b as E}from"./DPDMadZI.js";import{u as H}from"./LKbHd8Ti.js";import{e as k,r as C,f as b,o as s,c as i,a as t,t as h,F as M,g as $,h as o,n as f,i as O,_ as S,j as x,b as g,w as q,T as I,k as P,v as Q,l as V,m as z,p as Y,q as A}from"./BE0YQD_y.js";import{d as N}from"./CJVmOESB.js";import"./CsR-CCGQ.js";const j={class:"calendar",role:"grid","aria-labelledby":"calendar-title"},G={id:"calendar-title",class:"calendar-title"},J={class:"calendar-header"},K={class:"calendar-body"},R=["onClick"],U=["datetime"],X=k({__name:"calendar",props:{calendarDays:{},currentMonth:{}},emits:["openDataComponent","closeDataComponent"],setup(D,{emit:r}){const{smoothScroll:a}=H(),l=D,y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=C(null),p=b(()=>{var n;const e=[],L=(n=l.calendarDays[0].date)==null?void 0:n.getDay();if(L===void 0)return e;for(let w=0;w<L;w++)e.push({date:null,painLevel:"missing",index:-1,dayOfWeek:null,dayOfWeekShort:null});for(e.push(...l.calendarDays);e.length%7!==0;)e.push({date:null,painLevel:"missing",index:-1,dayOfWeek:null,dayOfWeekShort:null});return e}),v=e=>{e.date&&(d.value&&e.date.getTime()===d.value.getTime()?(d.value=null,T("closeDataComponent")):(d.value=e.date,T("openDataComponent",{date:e.date,dayShort:y[e.date.getDay()].slice(0,3),dayNumber:e.date.getDate(),month:e.date.toLocaleString("default",{month:"long"}),year:e.date.getFullYear(),painLevel:e.painLevel})),c())},_=C(null);function c(){const e="#calendar-day-overview";_.value=setTimeout(()=>{a(e)},100)}const u=e=>e.toLocaleString("default",{month:"long",year:"numeric"}),m=e=>e.toISOString().split("T")[0],T=r;return(e,L)=>(s(),i("div",j,[t("h2",G,h(u(e.currentMonth)),1),t("div",J,[(s(),i(M,null,$(y,n=>t("div",{key:n,class:"calendar-header-cell"},h(n.slice(0,3)),1)),64))]),t("div",K,[(s(!0),i(M,null,$(o(p),(n,w)=>(s(),i("div",{key:w,class:f(["calendar-cell",{empty:!n.date}])},[n.painLevel!==void 0?(s(),i("span",{key:0,class:f(["pain-level",[`pain-level-${n.painLevel}`,{inactive:o(d)&&n.date&&n.date.getTime()!==o(d).getTime()}]]),onClick:ue=>v(n)},null,10,R)):O("",!0),n.date?(s(),i("time",{key:1,datetime:m(n.date)},h(n.date.getDate()),9,U)):O("",!0)],2))),128))])]))}}),ee=S(X,[["__scopeId","data-v-fc1898b6"]]),ae={class:"menu"},te=["onClick"],ne=k({__name:"timelineDropdown",setup(D){const{toggleEnabled:r,isEnabled:a}=B(),{currentTimeline:l,setTimeline:y}=Z(),d=[{value:"week",label:"7 Days"},{value:"fortnight",label:"14 Days"},{value:"month",label:"1 Month"}],p=b(()=>{const c=[...d],u=c.findIndex(m=>m.value===l.value);return u!==-1&&c.splice(u,1),c});b(()=>d.find(c=>c.value===l.value));const v=N(r,100),_=N(c=>{y(c),r()},100);return(c,u)=>(s(),i("div",{class:f(["timeline",{open:o(a)}])},[t("button",{onClick:u[0]||(u[0]=x((...m)=>o(v)&&o(v)(...m),["prevent"])),class:f(["main",o(l)])},u[1]||(u[1]=[t("div",{class:"current-selection none"},null,-1),t("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px"},[t("path",{d:"M480-397.85 311.85-566h336.3L480-397.85Z"})],-1)]),2),g(I,{name:"fade"},{default:q(()=>[P(t("nav",ae,[t("ul",null,[(s(!0),i(M,null,$(o(p),m=>(s(),i("li",{key:m.value},[t("button",{onClick:x(T=>o(_)(m.value),["prevent"]),class:f(m.value)},null,10,te)]))),128))])],512),[[Q,o(a)]])]),_:1})],2))}}),le=S(ne,[["__scopeId","data-v-0d30d6af"]]),oe={class:"day-overview",id:"calendar-day-overview"},se={class:"wrapper title"},re=k({__name:"dayOverview",props:{dayShort:{},dayNumber:{},month:{},year:{},painLevel:{}},setup(D){const r=a=>{const l=["var(--pain-0)","var(--pain-1)","var(--pain-2)","var(--pain-3)"];return l[a]||l[0]};return(a,l)=>(s(),i("article",oe,[t("span",{class:"severity-indicator",style:V({backgroundColor:r(a.painLevel)})},null,4),t("div",se,[g(I,{name:"fade",mode:"out-in"},{default:q(()=>[(s(),i("h4",{key:`${a.dayShort}-${a.dayNumber}`},h(a.dayShort)+" "+h(a.dayNumber),1))]),_:1}),l[0]||(l[0]=t("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px",fill:"#e8eaed"},[t("path",{d:"M212.31-140Q182-140 161-161q-21-21-21-51.31v-535.38Q140-778 161-799q21-21 51.31-21h346.23l-60 60H212.31q-4.62 0-8.46 3.85-3.85 3.84-3.85 8.46v535.38q0 4.62 3.85 8.46 3.84 3.85 8.46 3.85h535.38q4.62 0 8.46-3.85 3.85-3.84 3.85-8.46v-288.77l60-60v348.77Q820-182 799-161q-21 21-51.31 21H212.31ZM480-480ZM380-380v-137.31l362.39-362.38q9.3-9.31 20.46-13.58 11.15-4.27 22.69-4.27 11.77 0 22.61 4.27Q819-889 827.92-880.08L878.15-830q8.69 9.31 13.35 20.54 4.65 11.23 4.65 22.77t-3.96 22.38q-3.96 10.85-13.27 20.15L515.38-380H380Zm456.77-406.31-50.23-51.38 50.23 51.38ZM440-440h49.85l249.3-249.31-24.92-24.92-26.69-25.69L440-492.38V-440Zm274.23-274.23-26.69-25.69 26.69 25.69 24.92 24.92-24.92-24.92Z"})],-1))]),g(I,{name:"slide-fade",mode:"out-in"},{default:q(()=>[(s(),i("p",{class:"subtitle",key:`${a.month}-${a.year}-${a.dayNumber}`},h(a.month)+" "+h(a.year),1))]),_:1})]))}}),ie=S(re,[["__scopeId","data-v-9e7c72dc"]]),de={class:"page-container"},ce=k({__name:"calendar",setup(D){const r=C(new Date);Z();const a=C(null),l=b(()=>{let p=new Date(r.value.getFullYear(),r.value.getMonth(),1),v=new Date(r.value.getFullYear(),r.value.getMonth()+1,0);const _=W(r.value,"month");return E(p,v,_)}),y=p=>{a.value=p},d=()=>{a.value=null};return(p,v)=>(s(),i("main",null,[g(F,{title:"Calendar",dynamicDropdownComponent:le}),t("div",de,[g(ee,{calendarDays:o(l),currentMonth:o(r),onOpenDataComponent:y,onCloseDataComponent:d},null,8,["calendarDays","currentMonth"]),o(a)?(s(),z(ie,Y(A({key:0},o(a))),null,16)):O("",!0)])]))}}),_e=S(ce,[["__scopeId","data-v-ad4feb5d"]]);export{_e as default};
